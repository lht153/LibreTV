<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msvalidate.01" content="ACE91E472BC9E89883181B31C2FB4793" />
    <title>YuHuanTV | ä½ çš„ä¸‹ä¸€ä¸ªå½±è§†ç«™</title>
    <meta name="description" content="YuHuanTVæ˜¯ä¸€ä¸ªå…è´¹çš„åœ¨çº¿è§†é¢‘æœç´¢å¹³å°ï¼Œæ— å¹¿å‘Šã€å®‰å…¨ï¼Œæä¾›æ¥è‡ªå¤šä¸ªè§†é¢‘æºçš„å†…å®¹æœç´¢ä¸è§‚çœ‹æœåŠ¡ï¼Œæ— éœ€æ³¨å†Œå³å¯ä½¿ç”¨ã€‚">
    <meta name="keywords" content="åœ¨çº¿è§†é¢‘,å…è´¹è§†é¢‘,è§†é¢‘æœç´¢,ç”µå½±,ç”µè§†å‰§,YuHuanTV">
    <meta name="author" content="YuHuanTV Team">

    <!-- Favicon -->
    <link rel="icon" href="image/YuHuanTVLogonew.png">
    <link rel="apple-touch-icon" href="image/YuHuanTVLogo.png">
    <link rel="manifest" href="manifest.json">
    
    <script src="libs/tailwindcss.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/index.css">
</head>

<style>
    :root {
      --bar-height: 30px;        /* å…¬å‘Šæ é«˜åº¦ */
      --scroll-duration: 30s;    /* å®Œæ•´æ»šåŠ¨ä¸€è½®æ—¶é—´ï¼ˆè¶Šå°è¶Šå¿«ï¼‰ */
    }

    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Microsoft YaHei", sans-serif; }

    .notice-bar {
      position: fixed;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 1200px;
      height: var(--bar-height);
      line-height: var(--bar-height);
      background: rgba(255,255,255,0.2);
      backdrop-filter: blur(6px);
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,.2);
      overflow: hidden;
      z-index: 9999;
      white-space: nowrap;
    }

    .notice-track {
      display: inline-flex;
      gap: 500px; /* å…¬å‘Šä¹‹é—´çš„é—´éš” */
      animation: scroll-left var(--scroll-duration) linear infinite;
      will-change: transform;
    }

    .notice-item {
      display: inline-block;
      white-space: nowrap;
    }

    .notice-bar:hover .notice-track {
      animation-play-state: paused;
    }

    @keyframes scroll-left {
      from { transform: translateX(0); }
      to   { transform: translateX(-50%); }
    }
  </style>
    
<body class="page-bg text-white">

<div class="notice-bar">
    <div class="notice-track" id="noticeTrack">
      <div class="notice-item">ğŸ‰ <b>ä¸ƒå¤•å¿«ä¹</b>ï¼ä¸ƒå¤•è‰¯å®µï¼Œæ„¿ä½ æ‰€é‡çš†è‰¯äººï¼Œæ‰€å¿µçš†å›åº”ï¼Œæ‰€æ„¿çš†æˆçœŸã€‚ ğŸ‰</div>
      <div class="notice-item">ğŸ”¥YuHuanTV | ä½ çš„ä¸‹ä¸€ä¸ªå½±è§†ç«™ï¼ˆæœ¬ç«™ï¼‰ä¸ç®¡æ˜¯ç”µå½±ã€ç”µè§†å‰§è¿˜æ˜¯åŠ¨æ¼« æ— éœ€æ³¨å†Œ ç»Ÿç»Ÿå…è´¹çœ‹ ğŸ”¥</div>
      <div class="notice-item">ğŸ’¡ å°æç¤ºï¼š<a href="https://blog.317188.xyz">æˆ‘çš„åšå®¢</a>å†…æœ‰æ›´å¤šå®ç”¨å·¥å…·å“¦ï¼</div>
      <div class="notice-item">ç¥å„ä½è§‚å½±å¿«ä¹ï¼</div>
    </div>
  </div>

  <script>
    // ä¸ºå®ç°æ— ç¼å¾ªç¯ï¼ŒæŠŠå…¬å‘Šå†…å®¹å¤åˆ¶ä¸€ä»½æ‹¼æ¥åœ¨åé¢
    (function initNoticeMarquee() {
      const track = document.getElementById('noticeTrack');
      const clone = track.cloneNode(true);
      while (clone.firstChild) track.appendChild(clone.firstChild);
    })();
  </script>
    
    <!-- å°†å†å²è®°å½•æŒ‰é’®ç§»åˆ°å·¦ä¸Šè§’ï¼Œå¹¶ç¼©å°å°ºå¯¸ -->
    <div class="fixed top-4 left-4 z-10">
        <button onclick="toggleHistory(event)" class="bg-[#222] hover:bg-[#333] border border-[#333] hover:border-white rounded-lg px-3 py-1.5 transition-colors" aria-label="è§‚çœ‹å†å²">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
        </button>
    </div>

    <!-- è®¾ç½®æŒ‰é’®ä¿ç•™åœ¨å³ä¸Šè§’ï¼Œå¹¶ç¼©å°å°ºå¯¸ -->
    <div class="fixed top-4 right-4 z-10">
        <button onclick="toggleSettings(event)" class="bg-[#222] hover:bg-[#333] border border-[#333] hover:border-white rounded-lg px-3 py-1.5 transition-colors" aria-label="æ‰“å¼€è®¾ç½®">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
        </button>
    </div>
    
    <!-- å†å²è®°å½•é¢æ¿ - æ ‡é¢˜å±…ä¸­ -->
    <div id="historyPanel" class="history-panel fixed left-0 top-0 h-full bg-[#111] border-r border-[#333] p-6 z-40 transform -translate-x-full transition-transform duration-300" aria-label="è§‚çœ‹å†å²" aria-hidden="true">
        <div class="flex justify-between items-center mb-6">
                <button onclick="toggleHistory()" class="close-btn">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            <h3 class="text-xl font-bold gradient-text mx-auto">è§‚çœ‹å†å²</h3>
            <div class="w-4"></div> <!-- æ·»åŠ ä¸€ä¸ªå ä½å…ƒç´ ä»¥ç¡®ä¿æ ‡é¢˜å±…ä¸­ -->
        </div>
        <div id="historyList" class="pb-4">
            <!-- å†å²è®°å½•å°†åœ¨è¿™é‡ŒåŠ¨æ€æ˜¾ç¤º -->
            <div class="text-center text-gray-500 py-8">æš‚æ— è§‚çœ‹è®°å½•</div>
        </div>
        <div class="mt-4 text-center sticky bottom-0 pb-2 pt-2 bg-[#111]">
            <button onclick="clearViewingHistory()" class="px-4 py-2 w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 text-white rounded-lg text-sm transition-all duration-300 shadow-md hover:shadow-lg">
                æ¸…ç©ºå†å²è®°å½•
            </button>
        </div>
    </div>

    <!-- è®¾ç½®é¢æ¿ -->
    <div id="settingsPanel" class="settings-panel fixed right-0 top-0 h-full w-80 bg-[#111] border-l border-[#333] p-6 z-40 overflow-y-auto" aria-label="è®¾ç½®é¢æ¿" aria-hidden="true">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold gradient-text">è®¾ç½®</h3>
            <button onclick="toggleSettings()" class="close-btn">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <div class="space-y-5">
            <!-- æ•°æ®æºè®¾ç½®åŒºåŸŸ -->
            <div class="p-3 bg-[#151515] rounded-lg shadow-inner">
                <h4 align="center">æ•°æ®æºè®¾ç½®</h4>
                <label align="center" class="block text-sm font-medium text-gray-400 mb-3 border-b border-[#333] pb-1">å¦‚æœç´¢ä¸åˆ°å½±è§†è¯·å…¨é€‰</label>
                
                <!-- æ‰¹é‡æ“ä½œæŒ‰é’® -->
                <div class="flex space-x-2 mb-3">
                    <button onclick="selectAllAPIs(true)" class="px-2 py-1 bg-[#333] hover:bg-[#444] text-white text-xs rounded">å…¨é€‰</button>
                    <button onclick="selectAllAPIs(false)" class="px-2 py-1 bg-[#333] hover:bg-[#444] text-white text-xs rounded">å…¨ä¸é€‰</button>
                    <button onclick="selectAllAPIs(true, true)" class="px-2 py-1 bg-[#333] hover:bg-[#444] text-white text-xs rounded">å…¨é€‰æ™®é€šèµ„æº</button>
                </div>
                
                <!-- APIé€‰æ‹©åŒºåŸŸ - ä½¿ç”¨æ»šåŠ¨åŒºåŸŸ -->
                <div class="max-h-40 overflow-y-auto bg-[#191919] p-2 rounded-lg mb-3">
                    <div id="apiCheckboxes">
                        <!-- è¿™é‡Œå°†åŠ¨æ€æ’å…¥APIå¤é€‰æ¡† -->
                    </div>
                </div>
                
                <!-- APIä¿¡æ¯æ˜¾ç¤º -->
                <div class="text-xs text-gray-500 flex justify-between items-center">
                    <span>å·²é€‰APIæ•°é‡ï¼š<span id="selectedApiCount" class="text-white">0</span></span>
                    <span id="siteStatus" class="ml-2"></span>
                </div>
            </div>

            <div class="p-3 bg-[#151515] rounded-lg shadow-inner">
                <h4 align="center">é—®é¢˜åé¦ˆ</h4>
                <label class="block text-sm font-medium text-gray-400 mb-3 border-b border-[#333] pb-1">å¦‚å…¨é€‰åä¾æ—§æœä¸åˆ°è§†é¢‘ è¯·è”ç³»ç«™é•¿</label>
                <label class="block text-sm font-medium text-gray-400 mb-3 border-b border-[#333] pb-1">é‚®ç®±ï¼šMr.Tiann@vip.qq.com</label>
            </div>

            <!-- è‡ªå®šä¹‰APIç®¡ç†åŒºåŸŸ 
            <div class="p-3 bg-[#151515] rounded-lg shadow-inner">
                <div class="flex justify-between items-center mb-2">
                    <label class="block text-sm font-medium text-gray-400 border-b border-[#333] w-full pb-1">è‡ªå®šä¹‰API</label>
                    <button onclick="showAddCustomApiForm()" class="bg-[#333] hover:bg-[#444] text-white w-6 h-6 rounded-full text-center leading-none text-lg ml-1">+</button>
                </div> 
                <div id="customApisList" class="max-h-32 overflow-y-auto mb-2">
                </div>  -->
                
                <!-- æ·»åŠ è‡ªå®šä¹‰APIè¡¨å• (é»˜è®¤éšè—) -->
                <div id="addCustomApiForm" class="hidden mt-2 p-2 bg-[#191919] rounded-lg">
                    <input type="text" id="customApiName" placeholder="APIåç§°" class="w-full bg-[#222] border border-[#333] text-white px-2 py-1 rounded mb-2" autocomplete="off">
                    <input type="text" id="customApiUrl" placeholder="https://abc.com" class="w-full bg-[#222] border border-[#333] text-white px-2 py-1 rounded mb-2" autocomplete="off">
                    <!-- æ–°å¢ detail åœ°å€è¾“å…¥æ¡† -->
                    <input type="text" id="customApiDetail" placeholder="detailåœ°å€ï¼ˆå¯é€‰ï¼‰" class="w-full bg-[#222] border border-[#333] text-white px-2 py-1 rounded mb-2" autocomplete="off">
                    <!-- æ·»åŠ æˆäººå†…å®¹åˆ‡æ¢ -->
                    <div class="flex items-center mb-2">
                        <input type="checkbox" id="customApiIsAdult" class="form-checkbox h-4 w-4 text-pink-500 bg-[#222] border border-[#333]">
                        <label for="customApiIsAdult" class="ml-2 text-xs text-pink-400">é»„è‰²èµ„æºç«™</label>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="addCustomApi()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs">æ·»åŠ </button>
                        <button onclick="cancelAddCustomApi()" class="bg-[#444] hover:bg-[#555] text-white px-3 py-1 rounded text-xs">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>
            
            <!-- å†…å®¹è¿‡æ»¤è®¾ç½®åŒºåŸŸ -->
            <div class="p-3 bg-[#151515] rounded-lg shadow-inner">
                <h4 align="center">åŠŸèƒ½å¼€å…³</h4>
                
                <!-- é»„è‰²å†…å®¹è¿‡æ»¤å¼€å…³ -->
                <div class="flex flex-col mb-3 pb-3 border-b border-[#222] relative">
                    <div class="flex items-center justify-between">
                        <div>
                            <label class="text-sm font-medium text-gray-400">é»„è‰²å†…å®¹è¿‡æ»¤</label>
                            <p class="text-xs text-gray-500 mt-1 filter-description">è¿‡æ»¤"ä¼¦ç†ç‰‡"ç­‰é»„è‰²å†…å®¹</p>
                        </div>
                        <div class="relative inline-block w-12 align-middle select-none">
                            <input type="checkbox" id="yellowFilterToggle" class="opacity-0 absolute w-full h-full cursor-pointer z-10">
                            <div class="toggle-bg bg-[#333] w-12 h-6 rounded-full transition-colors duration-300 ease-in-out"></div>
                            <div class="toggle-dot absolute w-5 h-5 bg-white rounded-full top-0.5 left-0.5 transition-transform duration-300 ease-in-out"></div>
                        </div>
                    </div>
                    <!-- è­¦å‘Šæç¤ºå°†åœ¨è¿™é‡ŒåŠ¨æ€æ’å…¥ -->
                </div>
                
                <!-- å¹¿å‘Šè¿‡æ»¤å¼€å…³ -->
                <div class="flex items-center justify-between mb-3 pb-3 border-b border-[#222]">
                    <div>
                        <label class="text-sm font-medium text-gray-400">åˆ†ç‰‡å¹¿å‘Šè¿‡æ»¤</label>
                        <p class="text-xs text-gray-500 mt-1">å…³é—­å¯å‡å°‘æ—§ç‰ˆæµè§ˆå™¨å¡é¡¿</p>
                    </div>
                    <div class="relative inline-block w-12 align-middle select-none">
                        <input type="checkbox" id="adFilterToggle" class="opacity-0 absolute w-full h-full cursor-pointer z-10">
                        <div class="toggle-bg bg-[#333] w-12 h-6 rounded-full transition-colors duration-300 ease-in-out"></div>
                        <div class="toggle-dot absolute w-5 h-5 bg-white rounded-full top-0.5 left-0.5 transition-transform duration-300 ease-in-out"></div>
                    </div>
                </div>
                
                <!-- è±†ç“£çƒ­é—¨å¼€å…³ -->
                <div class="flex items-center justify-between">
                    <div>
                        <label class="text-sm font-medium text-gray-400">è±†ç“£çƒ­é—¨æ¨è</label>
                        <p class="text-xs text-gray-500 mt-1">é¦–é¡µæ˜¾ç¤ºè±†ç“£çƒ­é—¨å½±è§†å†…å®¹</p>
                    </div>
                    <div class="relative inline-block w-12 align-middle select-none">
                        <input type="checkbox" id="doubanToggle" class="opacity-0 absolute w-full h-full cursor-pointer z-10">
                        <div class="toggle-bg bg-[#333] w-12 h-6 rounded-full transition-colors duration-300 ease-in-out"></div>
                        <div class="toggle-dot absolute w-5 h-5 bg-white rounded-full top-0.5 left-0.5 transition-transform duration-300 ease-in-out"></div>
                    </div>
                </div>
            </div> 

            <!-- ä¸€èˆ¬åŠŸèƒ½åŒºåŸŸ 
            <div class="p-3 bg-[#151515] rounded-lg shadow-inner">
                <label class="block text-sm font-medium text-gray-400 mb-3 border-b border-[#333] pb-1">ä¸€èˆ¬åŠŸèƒ½</label>
                <button onclick="importConfig()" class="px-4 py-2 w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 text-white rounded-lg text-sm transition-all duration-300 shadow-md hover:shadow-lg mb-2">å¯¼å…¥é…ç½®</button>
                <button onclick="exportConfig()" class="px-4 py-2 mb-2 w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 text-white rounded-lg text-sm transition-all duration-300 shadow-md hover:shadow-lg">å¯¼å‡ºé…ç½®</button>
                <button onclick="clearLocalStorage()" class="px-4 py-2 w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 text-white rounded-lg text-sm transition-all duration-300 shadow-md hover:shadow-lg">æ¸…é™¤Cookie</button>
            </div> -->
        </div>
    </div>
    
    <div class="container mx-auto px-4 py-8 flex flex-col h-screen">
        <div class="flex-1 flex flex-col">
            <!-- ç½‘ç«™æ ‡å¿—å’Œå£å· -->
            <header class="text-center mb-2">
                <div class="flex justify-center items-center mb-4">
                    <div class="inline-flex items-center justify-center w-[250px] h-[80px] rounded-lg sm:rounded-xl overflow-hidden transition-transform duration-300 hover:scale-105"
     style="background-image: url('image/YuHuanTVLogonew.png'); background-size: cover; background-position: center; background-repeat: no-repeat;">
</div>
                </div>
                <p class="text-gray-400 mb-8">ä½ çš„ä¸‹ä¸€ä¸ªå½±è§†ç«™</p>
            </header>
            

            <div id="searchArea" class="flex-1 flex flex-col items-center justify-center">
                <div class="w-full max-w-2xl">
                    <div class="flex items-stretch mb-3 h-14 shadow-lg rounded-lg overflow-hidden">
                        <!-- é¦–é¡µæŒ‰é’® -->
                        <button onclick="resetToHome()" 
                                class="w-20 sm:w-24 flex items-center justify-center bg-white text-black font-medium hover:bg-gray-200 transition-colors" 
                                aria-label="è¿”å›é¦–é¡µ" title="è¿”å›é¦–é¡µ">
                            é¦–é¡µ
                        </button>
                        <!-- æœç´¢è¾“å…¥ -->
                        <input type="text" 
                               id="searchInput" 
                               class="flex-1 bg-[#111] border-y border-[#333] text-white px-6 py-0 focus:outline-none transition-colors min-w-0" 
                               placeholder="æœç´¢ä½ å–œæ¬¢çš„è§†é¢‘..." 
                               autocomplete="off"
                               aria-label="è§†é¢‘æœç´¢æ¡†"
                               oninput="toggleClearButton()">
                        <!-- æ¸…ç©ºæŒ‰é’® -->
                        <button id="clearSearchInput" 
                                class="flex pr-2 bg-[#111] border-y border-[#333] items-center justify-center text-gray-400 hover:text-white hidden"
                                onclick="clearSearchInput()"
                                aria-label="æ¸…ç©ºæœç´¢æ¡†"
                                title="æ¸…ç©ºæœç´¢æ¡†">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                        <!-- æœç´¢æŒ‰é’® -->
                        <button onclick="search()" 
                                class="w-20 sm:w-24 flex items-center justify-center bg-white text-black font-medium hover:bg-gray-200 transition-colors" 
                                aria-label="æœç´¢æŒ‰é’®">
                            æœç´¢
                        </button>
                    </div>
                    
                    <!-- æ·»åŠ æœ€è¿‘æœç´¢è®°å½•éƒ¨åˆ† -->
                    <div id="recentSearches" class="mt-4 flex flex-wrap gap-2" aria-label="æœ€è¿‘æœç´¢è®°å½•">
                        <!-- è¿™é‡Œä¼šåŠ¨æ€æ’å…¥æœ€è¿‘çš„æœç´¢è®°å½• -->
                    </div>
                </div>
            </div>
            
            <!-- è±†ç“£çƒ­é—¨æ¨èåŒºåŸŸ: é»˜è®¤éšè—ï¼Œç°åœ¨ä½äºæœç´¢åŒºåŸŸä¸‹æ–¹ï¼Œè°ƒæ•´å®½åº¦ -->
            <div id="doubanArea" class="w-full my-8 hidden">
                <div class="mx-auto max-w-screen-xl px-2">
                    <!-- æ”¹è¿›æ ‡é¢˜å’Œæ ‡ç­¾åŒºåŸŸå¸ƒå±€ -->
                    <div class="mb-4">
                        <!-- æ ‡é¢˜å’Œåˆ·æ–°æŒ‰é’®ä¸€è¡Œ -->
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center">
                                <h2 class="text-xl font-bold text-white mr-4">è±†ç“£çƒ­é—¨</h2>
                                <!-- æ·»åŠ ç”µå½±/ç”µè§†å‰§åˆ‡æ¢å¼€å…³ -->
                                <div class="flex items-center bg-[#222] rounded-full p-1">
                                    <button id="douban-movie-toggle" class="px-3 py-1 text-sm rounded-full bg-pink-600 text-white">ç”µå½±</button>
                                    <button id="douban-tv-toggle" class="px-3 py-1 text-sm rounded-full text-gray-300 hover:text-white">ç”µè§†å‰§</button>
                                </div>
                            </div>
                            <button id="douban-refresh" class="text-sm px-3 py-1 bg-pink-600 hover:bg-pink-700 text-white rounded-lg flex items-center gap-1">
                                <span>æ¢ä¸€æ‰¹</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                </svg>
                            </button>
                        </div>
                        <!-- åˆ†ç±»æ ‡ç­¾ç‹¬ç«‹æˆè¡Œï¼Œæ·»åŠ æ»šåŠ¨æ”¯æŒä»¥é€‚åº”ç§»åŠ¨è®¾å¤‡ -->
                        <div class="overflow-x-auto pb-2">
                            <div id="douban-tags" class="flex space-x-2 min-w-max"></div>
                        </div>
                    </div>
                    
                    <!-- æ¨èå†…å®¹ -->
                    <div id="douban-results" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3"></div>
                </div>
            </div>
            
            <!-- æœç´¢ç»“æœï¼šåˆå§‹éšè— -->
            <div id="resultsArea" class="w-full hidden">
                <div class="mx-auto max-w-7xl px-2"> <!-- æ·»åŠ æœ€å¤§å®½åº¦é™åˆ¶å¹¶å±…ä¸­ -->
                    <div class="flex justify-end items-center mb-4">
                        <div class="text-sm text-gray-400">
                            <span id="searchResultsCount">0</span> ä¸ªç»“æœ
                        </div>
                    </div>
                    <!-- ä¿®æ”¹ç½‘æ ¼å¸ƒå±€ä»¥é€‚åº”å¤§ä¸€äº›çš„æ¨ªå‘å¡ç‰‡ -->
                    <div id="results" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                        <!-- ç»“æœå°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- é¡µè„šåŒºåŸŸ -->
    <footer class="footer mt-8 py-6 border-t border-[#333] bg-[#0a0a0a]">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center justify-center md:justify-start">
                        <div class="inline-flex items-center justify-center w-[125px] h-[40px] rounded-md sm:rounded-lg overflow-hidden transition-transform duration-300 hover:scale-105"
     style="background-image: url('image/YuHuanTVLogonew.png'); background-size: cover; background-position: center; background-repeat: no-repeat;">
</div>
                    </div>
                    <p class="text-gray-500 text-sm mt-2 text-center md:text-left">Â© 2025 YuHuanTV - ä½ çš„ä¸‹ä¸€ä¸ªå½±è§†ç«™</p>
                </div>
                
                <div class="text-center md:text-right">
                    <p class="text-gray-500 text-sm max-w-md">
                        å…è´£å£°æ˜ï¼šæœ¬ç«™ä»…ä¸ºè§†é¢‘æœç´¢å·¥å…·ï¼Œä¸å­˜å‚¨ã€ä¸Šä¼ æˆ–åˆ†å‘ä»»ä½•è§†é¢‘å†…å®¹ã€‚
                        æ‰€æœ‰è§†é¢‘å‡æ¥è‡ªç¬¬ä¸‰æ–¹APIæ¥å£ã€‚å¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»ç›¸å…³å†…å®¹æä¾›æ–¹ã€‚
                    </p>
                    <div class="mt-2 flex justify-center md:justify-end space-x-4">
                        <a href="about.html" class="text-gray-400 hover:text-white text-sm transition-colors">å…³äºæˆ‘ä»¬</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div id="modal" class="fixed inset-0 bg-black/95 hidden flex items-center justify-center transition-opacity duration-300 z-40">
        <div class="bg-[#111] p-8 rounded-lg w-11/12 max-w-4xl border border-[#333] max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-6 flex-none">
                <h2 id="modalTitle" class="text-2xl font-bold gradient-text break-words pr-4 max-w-[80%]"></h2>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white text-2xl transition-colors flex-shrink-0">&times;</button>
            </div>
            <div id="modalContent" class="overflow-auto flex-1 min-h-0">
                <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2">
                </div>
            </div>
        </div>
    </div>

    <!-- å¯†ç éªŒè¯å¼¹çª— -->
    <div id="passwordModal" class="fixed inset-0 bg-black/95 hidden items-center justify-center z-[65] transition-opacity duration-300">
        <div class="bg-[#111] p-8 rounded-lg w-11/12 max-w-md border border-[#333] max-h-[90vh] flex flex-col">
            <div class="flex justify-between items-center mb-6 flex-none">
                <h2 class="text-2xl font-bold gradient-text">è®¿é—®éªŒè¯</h2>
            </div>
            <div class="mb-6">
                <p class="text-gray-300 mb-4">è¯·è¾“å…¥å¯†ç ç»§ç»­è®¿é—®</p>
                <form id="passwordForm" onsubmit="handlePasswordSubmit(); return false;">
                    <input type="text" name="username" id="username" autocomplete="username" style="display:none" tabindex="-1" aria-hidden="true">
                    <input type="password" id="passwordInput" class="w-full bg-[#111] border border-[#333] text-white px-4 py-3 rounded-lg focus:outline-none focus:border-white transition-colors" placeholder="å¯†ç ..." autocomplete="new-password">
                    <div class="mt-4 w-full flex space-x-4">
                        <button id="passwordSubmitBtn" type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">æäº¤</button>
                        <button id="passwordCancelBtn" type="button" onclick="hidePasswordModal()" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">å–æ¶ˆ</button>
                    </div>
                </form>
                <p id="passwordError" class="text-red-500 mt-2 hidden">å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•</p>
            </div>
        </div>
    </div>

    <!-- ç‰ˆæƒå£°æ˜å¼¹çª— -->
    <div id="disclaimerModal" class="fixed inset-0 bg-black/90 hidden items-center justify-center z-[60]">
        <div class="bg-[#111] p-8 rounded-lg border border-[#333] w-11/12 max-w-2xl max-h-[90vh] overflow-y-auto">
            <h2 class="text-2xl font-bold gradient-text mb-6 text-center">ä½¿ç”¨å£°æ˜</h2>
            <div class="text-gray-300 space-y-4">
                <p>
                    æ¬¢è¿ä½¿ç”¨ YuHuanTV åœ¨å¼€å§‹ä½¿ç”¨å‰ï¼Œè¯·æ‚¨äº†è§£å¹¶åŒæ„ä»¥ä¸‹æ¡æ¬¾ï¼š
                </p>
                <p>
                    <strong class="text-blue-400">æœåŠ¡æ€§è´¨ï¼š</strong> YuHuanTV ä»…æä¾›è§†é¢‘æœç´¢æœåŠ¡ï¼Œä¸ç›´æ¥æä¾›ã€å­˜å‚¨æˆ–ä¸Šä¼ ä»»ä½•è§†é¢‘å†…å®¹ã€‚æ‰€æœ‰æœç´¢ç»“æœå‡æ¥è‡ªç¬¬ä¸‰æ–¹å…¬å¼€æ¥å£ã€‚
                </p>
                <p>
                    <strong class="text-blue-400">ç”¨æˆ·è´£ä»»ï¼š</strong> ç”¨æˆ·åœ¨ä½¿ç”¨æœ¬ç«™æœåŠ¡æ—¶ï¼Œé¡»éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä¸å¾—åˆ©ç”¨æœç´¢ç»“æœä»äº‹ä¾µæƒè¡Œä¸ºï¼Œå¦‚ä¸‹è½½ã€ä¼ æ’­æœªç»æˆæƒçš„ä½œå“ç­‰ã€‚
                </p>
                <p>
                    <strong class="text-blue-400">å¹¿å‘Šé£é™©æç¤ºï¼š</strong> æœ¬ç«™æ‰€æœ‰è§†é¢‘å‡æ¥è‡ªç¬¬ä¸‰æ–¹é‡‡é›†ç«™ï¼Œè§†é¢‘ä¸­å‡ºç°çš„å¹¿å‘Šä¸æœ¬ç«™æ— å…³ï¼Œè¯·å‹¿ç›¸ä¿¡æˆ–ç‚¹å‡»è§†é¢‘ä¸­çš„ä»»ä½•å¹¿å‘Šå†…å®¹ï¼Œè°¨é˜²ä¸Šå½“å—éª—ã€‚
                </p>
            </div>
            <div class="mt-6 flex justify-center">
                <button id="acceptDisclaimerBtn" class="px-6 py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-300">
                    æˆ‘å·²äº†è§£å¹¶æ¥å—
                </button>
            </div>
        </div>
    </div>

    <!-- é”™è¯¯æç¤ºæ¡† -->
    <div id="toast" class="fixed top-4 left-1/2 -translate-x-1/2 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg transform transition-all duration-300 opacity-0 -translate-y-full z-50">
        <p id="toastMessage"></p>
    </div>

    <!-- æ·»åŠ  loading æç¤ºæ¡† -->
    <div id="loading" class="fixed inset-0 bg-black/80 hidden items-center justify-center z-50">
        <div class="bg-[#111] p-8 rounded-lg border border-[#333] flex items-center space-x-4">
            <div class="w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"></div>
            <p class="text-white text-lg">åŠ è½½ä¸­...</p>
        </div>
    </div>

    <!-- JSON-LD ç»“æ„åŒ–æ•°æ® -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "YuHuanTV",
        "url": "https://libretv.is-an.org/",
        "description": "ä½ çš„å½±è§†ç«™",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://libretv.is-an.org/?s={search_term_string}",
            "query-input": "required name=search_term_string"
        }
    }
    </script>

    <!-- å¼•å…¥çº¯ JS sha256ï¼ˆHTTP ä¸‹ä¾ç„¶å¯ç”¨ï¼‰ -->
    <script src="libs/sha256.min.js"></script>
    <script>
        // ä¿å­˜åŸå§‹ jsâ€‘sha256 å®ç°ï¼Œé¿å…è¢« password.js è¦†ç›–
        window._jsSha256 = window.sha256;
    </script>
    <script src="js/config.js"></script>
    <script src="js/proxy-auth.js"></script>
    <script src="js/customer_site.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/api.js"></script>
    <script src="js/douban.js"></script>
    <script src="js/password.js"></script>
    <script src="js/search.js"></script>
    <script src="js/app.js"></script>

    <!-- PWA æ³¨å†Œ -->
    <script src="js/pwa-register.js"></script>

    <!-- ç¯å¢ƒå˜é‡æ³¨å…¥è„šæœ¬ -->
    <script>
        // åˆ›å»ºå…¨å±€ç¯å¢ƒå˜é‡å¯¹è±¡
        window.__ENV__ = window.__ENV__ || {};
        
        // æ³¨å…¥æœåŠ¡å™¨ç«¯ç¯å¢ƒå˜é‡ (å°†ç”±æœåŠ¡å™¨ç«¯æ›¿æ¢)
        // PASSWORD å˜é‡å°†åœ¨è¿™é‡Œè¢«æœåŠ¡å™¨ç«¯æ³¨å…¥
        window.__ENV__.PASSWORD = "{{PASSWORD}}";
    </script>

    <!-- ç‰ˆæœ¬æ£€æµ‹è„šæœ¬ -->
    <script src="js/version-check.js"></script>

    <!-- æ·»åŠ å¼¹çª—å’ŒURLæœç´¢å‚æ•°å¤„ç†è„šæœ¬ -->
    <script src="js/index-page.js"></script>
</body>
</html>
